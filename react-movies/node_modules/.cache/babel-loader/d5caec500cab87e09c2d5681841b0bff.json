{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/evaldas/Desktop/uiacademyTask/react-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{ReactComponent as Movie}from\"@svgr/webpack?-svgo,+titleProp,+ref!./icons/movie.svg\";import{ReactComponent as Search}from\"@svgr/webpack?-svgo,+titleProp,+ref!./icons/search.svg\";import SearchRez from'../search/SearchResults';export default function Header(props){var BASE_URL='https://api.themoviedb.org/3/';var APIKEY='68ae61f2720168696df123e0c841e5d8';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setsearchText=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setdata=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),inputLength=_useState6[0],setinputLength=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),clicked=_useState8[0],setclicked=_useState8[1];var inputHandler=function inputHandler(e){var text=e.target.value;setsearchText(text);setclicked(false);setinputLength(text.length);if(text!==''){var url=''.concat(BASE_URL,'search/movie?api_key=',APIKEY,'&query=',text);fetch(url).then(function(result){return result.json();}).then(function(data){setdata(data.results);}).catch(function(error){console.log('something went completely wrong');return;// atvirai tai nezinau ar padetu nes error negavau ^^\n});}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-wrap\",children:[/*#__PURE__*/_jsx(Movie,{className:\"movie-icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Movie Name\",id:\"search\",onChange:inputHandler,value:searchText})]}),/*#__PURE__*/_jsx(Search,{className:\"search-icon\"})]}),/*#__PURE__*/_jsx(SearchRez,{data:data,inputLength:inputLength,selectionHandler:function selectionHandler(searchText){return setsearchText(searchText);},inputTxt:searchText,clicked:clicked,selected:function selected(clicked){return setclicked(clicked);}})]})});}","map":{"version":3,"sources":["/home/evaldas/Desktop/uiacademyTask/react-movies/src/components/header/Header.jsx"],"names":["React","useState","SearchRez","Header","props","BASE_URL","APIKEY","searchText","setsearchText","data","setdata","inputLength","setinputLength","clicked","setclicked","inputHandler","e","text","target","value","length","url","concat","fetch","then","result","json","results","catch","error","console","log"],"mappings":"+PAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wLAGA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAEA,cAAe,SAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CAEpC,GAAMC,CAAAA,QAAQ,CAAG,+BAAjB,CACA,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CAHoC,cAKAL,QAAQ,CAAC,EAAD,CALR,wCAK7BM,UAL6B,eAKjBC,aALiB,8BAMZP,QAAQ,CAAC,EAAD,CANI,yCAM7BQ,IAN6B,eAMvBC,OANuB,8BAOET,QAAQ,CAAC,CAAD,CAPV,yCAO7BU,WAP6B,eAOhBC,cAPgB,8BAQNX,QAAQ,CAAC,KAAD,CARF,yCAQ7BY,OAR6B,eAQpBC,UARoB,eAWpC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAtB,CACAX,aAAa,CAACS,IAAD,CAAb,CACAH,UAAU,CAAC,KAAD,CAAV,CACAF,cAAc,CAACK,IAAI,CAACG,MAAN,CAAd,CACA,GAAGH,IAAI,GAAK,EAAZ,CAAgB,CACd,GAAII,CAAAA,GAAG,CAAG,GAAGC,MAAH,CAAUjB,QAAV,CAAoB,uBAApB,CAA6CC,MAA7C,CAAqD,SAArD,CAAgEW,IAAhE,CAAV,CACAM,KAAK,CAACF,GAAD,CAAL,CACCG,IADD,CACM,SAACC,MAAD,CAAY,CAChB,MAAOA,CAAAA,MAAM,CAACC,IAAP,EAAP,CACD,CAHD,EAICF,IAJD,CAIM,SAACf,IAAD,CAAU,CACdC,OAAO,CAACD,IAAI,CAACkB,OAAN,CAAP,CACD,CAND,EAOCC,KAPD,CAOO,SAASC,KAAT,CAAe,CACpBC,OAAO,CAACC,GAAR,CAAY,iCAAZ,EACA,OAAQ;AACT,CAVD,EAWD,CACF,CAnBD,CAqBA,mBACE,kCACE,uCACE,aAAK,SAAS,CAAC,gBAAf,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,KAAD,EAAO,SAAS,CAAC,YAAjB,EADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,kBAFd,CAGE,EAAE,CAAC,QAHL,CAIE,QAAQ,CAAEhB,YAJZ,CAKE,KAAK,CAAER,UALT,EAFF,GADF,cAWE,KAAC,MAAD,EAAQ,SAAS,CAAC,aAAlB,EAXF,GADF,cAcI,KAAC,SAAD,EAAW,IAAI,CAAEE,IAAjB,CAAuB,WAAW,CAAEE,WAApC,CAAiD,gBAAgB,CAAI,0BAAAJ,UAAU,QAAIC,CAAAA,aAAa,CAACD,UAAD,CAAjB,EAA/E,CAA8G,QAAQ,CAAEA,UAAxH,CAAoI,OAAO,CAAEM,OAA7I,CAAsJ,QAAQ,CAAE,kBAAAA,OAAO,QAAIC,CAAAA,UAAU,CAACD,OAAD,CAAd,EAAvK,EAdJ,GADF,EADF,CAoBD","sourcesContent":["import React, { useState } from 'react'\nimport {ReactComponent as Movie} from './icons/movie.svg'\nimport {ReactComponent as Search} from './icons/search.svg'\nimport SearchRez from '../search/SearchResults'\n\nexport default function Header(props) {\n\n  const BASE_URL = 'https://api.themoviedb.org/3/';\n  const APIKEY = '68ae61f2720168696df123e0c841e5d8';\n\n  const [searchText, setsearchText] = useState('');\n  const [data, setdata] = useState([]);\n  const [inputLength, setinputLength] = useState(1);\n  const [clicked, setclicked] = useState(false);\n\n\n  const inputHandler = (e) => {\n    const text = e.target.value;\n    setsearchText(text);\n    setclicked(false);\n    setinputLength(text.length);\n    if(text !== '' ){\n      let url = ''.concat(BASE_URL, 'search/movie?api_key=', APIKEY, '&query=', text);\n      fetch(url)\n      .then((result) => {\n        return result.json()\n      })\n      .then((data) => {\n        setdata(data.results);\n      })\n      .catch(function(error){\n        console.log('something went completely wrong')\n        return; // atvirai tai nezinau ar padetu nes error negavau ^^\n      })\n    }\n  }\n\n  return (\n    <div>\n      <header>\n        <div className=\"search-content\">\n          <div className=\"search-wrap\">\n            <Movie className=\"movie-icon\"/>\n            <input \n              type=\"text\" \n              placeholder=\"Enter Movie Name\" \n              id=\"search\" \n              onChange={inputHandler}\n              value={searchText} \n            />\n          </div>\n          <Search className=\"search-icon\"/>\n        </div>\n          <SearchRez data={data} inputLength={inputLength} selectionHandler = {searchText => setsearchText(searchText)} inputTxt={searchText} clicked={clicked} selected={clicked => setclicked(clicked)}/>\n      </header>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}