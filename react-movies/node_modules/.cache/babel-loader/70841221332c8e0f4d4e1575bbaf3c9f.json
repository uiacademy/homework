{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/evaldas/Desktop/uiacademyTask/react-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{ReactComponent as Movie}from\"@svgr/webpack?-svgo,+titleProp,+ref!./icons/movie.svg\";import{ReactComponent as Search}from\"@svgr/webpack?-svgo,+titleProp,+ref!./icons/search.svg\";import SearchRez from'../search/SearchResults';import MovieInfo from'../movie_info/MovieInfo';import Loading from'./icons/loading.gif';export default function Header(props){var BASE_URL='https://api.themoviedb.org/3/';var APIKEY='68ae61f2720168696df123e0c841e5d8';var _useState=useState(),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setsearchText=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setdata=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),inputLength=_useState6[0],setinputLength=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),clicked=_useState8[0],setclicked=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setloading=_useState10[1];React.useEffect(function(){if(searchText!==''){var url=''.concat(BASE_URL,'search/movie?api_key=',APIKEY,'&query=',searchText);console.log(url);fetch(url).then(function(result){if(clicked===true){console.log(clicked);setloading(true);}else{return result.json();}}).then(function(data){setdata(data.results);}).catch(function(error){console.log('something went completely wrong');return;// atvirai tai nezinau ar padetu nes error negavau ^^\n});}},[searchText]);var inputHandler=function inputHandler(e){var text=e.target.value;setsearchText(text);setclicked(false);setinputLength(text.length);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-wrap\",children:[/*#__PURE__*/_jsx(Movie,{className:\"movie-icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Movie Name\",id:\"search\",onChange:inputHandler,value:searchText})]}),/*#__PURE__*/_jsx(Search,{className:\"search-icon\"})]}),/*#__PURE__*/_jsx(SearchRez,{data:data,inputLength:inputLength,selectionHandler:function selectionHandler(searchText){return setsearchText(searchText);},inputTxt:searchText,clicked:clicked,selected:function selected(clicked){return setclicked(clicked);}})]}),loading===true?/*#__PURE__*/_jsx(\"img\",{className:\"loading\",src:Loading}):/*#__PURE__*/_jsx(MovieInfo,{data:data,clicked:clicked,selected_value:searchText})]});}","map":{"version":3,"sources":["/home/evaldas/Desktop/uiacademyTask/react-movies/src/components/header/Header.jsx"],"names":["React","useState","SearchRez","MovieInfo","Loading","Header","props","BASE_URL","APIKEY","searchText","setsearchText","data","setdata","inputLength","setinputLength","clicked","setclicked","loading","setloading","useEffect","url","concat","console","log","fetch","then","result","json","results","catch","error","inputHandler","e","text","target","value","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport {ReactComponent as Movie} from './icons/movie.svg'\nimport {ReactComponent as Search} from './icons/search.svg'\nimport SearchRez from '../search/SearchResults'\nimport MovieInfo from '../movie_info/MovieInfo'\nimport Loading from './icons/loading.gif'\n\nexport default function Header(props) {\n\n  const BASE_URL = 'https://api.themoviedb.org/3/';\n  const APIKEY = '68ae61f2720168696df123e0c841e5d8';\n\n  const [searchText, setsearchText] = useState();\n  const [data, setdata] = useState([]);\n  const [inputLength, setinputLength] = useState(1);\n  const [clicked, setclicked] = useState(false);\n  const [loading, setloading] = useState(false);\n\n  React.useEffect(() => {\n    if(searchText !== '' ){\n      let url = ''.concat(BASE_URL, 'search/movie?api_key=', APIKEY, '&query=',searchText);\n      console.log(url)\n      fetch(url)\n      .then((result) => {\n        if(clicked === true){\n          console.log(clicked)\n          setloading(true);\n        }else{\n          return result.json()\n        }\n      })\n      .then((data) => {\n        setdata(data.results);\n      })\n      .catch(function(error){\n        console.log('something went completely wrong')\n        return; // atvirai tai nezinau ar padetu nes error negavau ^^\n      })\n    }\n  },[searchText]);\n\n  const inputHandler = (e) => {\n    const text = e.target.value;\n    setsearchText(text);\n    setclicked(false);\n    setinputLength(text.length);\n  }\n\n  return (\n    <div>\n      <header>\n        <div className=\"search-content\">\n          <div className=\"search-wrap\">\n            <Movie className=\"movie-icon\"/>\n            <input \n              type=\"text\" \n              placeholder=\"Enter Movie Name\" \n              id=\"search\" \n              onChange={inputHandler}\n              value={searchText} \n            />\n          </div>\n          <Search className=\"search-icon\"/>\n        </div>\n          <SearchRez data={data} inputLength={inputLength} selectionHandler = {searchText => setsearchText(searchText)} inputTxt={searchText} clicked={clicked} selected={clicked => setclicked(clicked)}/>\n      </header>\n      {loading === true ? <img className=\"loading\" src={Loading}/> : <MovieInfo data={data} clicked={clicked} selected_value={searchText}/> }\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}